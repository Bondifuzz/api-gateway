<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js bondi">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Пример фаззинг-теста для JS</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Введение</a></li><li class="chapter-item expanded "><a href="start.html"><strong aria-hidden="true">2.</strong> Начало работы</a></li><li class="chapter-item expanded "><a href="project.html"><strong aria-hidden="true">3.</strong> Проекты</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="create_project.html"><strong aria-hidden="true">3.1.</strong> Создание проекта</a></li><li class="chapter-item expanded "><a href="bug_trackers.html"><strong aria-hidden="true">3.2.</strong> Интеграция проекта с трекерами задач</a></li><li class="chapter-item expanded "><a href="delete_project.html"><strong aria-hidden="true">3.3.</strong> Удаление проекта</a></li></ol></li><li class="chapter-item expanded "><a href="fuzzer.html"><strong aria-hidden="true">4.</strong> Фаззеры</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="create_fuzzer.html"><strong aria-hidden="true">4.1.</strong> Создание фаззера</a></li><li class="chapter-item expanded "><a href="create_config.html"><strong aria-hidden="true">4.2.</strong> Создание конфигурационного файла</a></li><li class="chapter-item expanded "><a href="upload_fuzzer.html"><strong aria-hidden="true">4.3.</strong> Загрузка фаззера в BondiFuzz</a></li><li class="chapter-item expanded "><a href="process.html"><strong aria-hidden="true">4.4.</strong> Работа с фаззинг-тестами в BondiFuzz</a></li><li class="chapter-item expanded "><a href="fuzzer_example.html"><strong aria-hidden="true">4.5.</strong> Пример фаззера</a></li><li class="chapter-item expanded "><a href="delete_fuzzer.html"><strong aria-hidden="true">4.6.</strong> Удаление фаззера</a></li></ol></li><li class="chapter-item expanded "><a href="CLI_user_manual.html"><strong aria-hidden="true">5.</strong> CLI</a></li><li class="chapter-item expanded "><a href="appendix.html"><strong aria-hidden="true">6.</strong> Приложения</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="cpp_fuzzing.html"><strong aria-hidden="true">6.1.</strong> Пример фаззинг-теста для C++</a></li><li class="chapter-item expanded "><a href="rust_fuzzing.html"><strong aria-hidden="true">6.2.</strong> Пример фаззинг-теста для Rust</a></li><li class="chapter-item expanded "><a href="go_fuzzing.html"><strong aria-hidden="true">6.3.</strong> Пример фаззинг-теста для Go</a></li><li class="chapter-item expanded "><a href="python_fuzzing.html"><strong aria-hidden="true">6.4.</strong> Пример фаззинг-теста для Python</a></li><li class="chapter-item expanded "><a href="java_fuzzing.html"><strong aria-hidden="true">6.5.</strong> Пример фаззинг-теста для Java (JVM-based)</a></li><li class="chapter-item expanded "><a href="JQF.html"><strong aria-hidden="true">6.6.</strong> Пример фаззинг-теста для Java с JQF</a></li><li class="chapter-item expanded "><a href="js_fuzzing.html" class="active"><strong aria-hidden="true">6.7.</strong> Пример фаззинг-теста для JS</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="javascript"><a class="header" href="#javascript">JavaScript</a></h1>
<p>(Поддержка языка JavaScript находится в разработке.)</p>
<p>Для фаззинга кода на JavaScript применим <a href="https://gitlab.com/gitlab-org/security-products/analyzers/fuzzers/jsfuzz">фаззер</a> <code>jsfuzz</code>. Имеет сходство с <code>libfuzzer</code>, но не имеет к нему отношения.</p>
<h2 id="Установка"><a class="header" href="#Установка">Установка</a></h2>
<p>Установка осуществляется командой:</p>
<pre><code class="language-bash">npm i -g jsfuzz
</code></pre>
<h2 id="Опции"><a class="header" href="#Опции">Опции</a></h2>
<p>Для работы с <code>jsfuzz</code> могут быть применены следующие опции:</p>
<ul>
<li><code>dir</code> - одна или несколько директорий с корпусом</li>
<li><code>regression</code> - воспроизведение, проверка крэшей</li>
<li><code>exact-artifact-path</code> - мосто, куда сохранится крэш</li>
<li><code>rss-limit-mb</code> - ограничение по памяти</li>
<li><code>timeout</code> - таймаут на итерацию</li>
<li><code>versifier</code> - мутатор для текстовых протоколов типа xml, http, json</li>
<li><code>only-ascii</code> - только ascii тест-кейсы</li>
<li><code>fuzzTime</code> - время работы фаззинг-теста</li>
</ul>
<h2 id="Код"><a class="header" href="#Код">Код</a></h2>
<p>Исследуемая логика должна находиться в функции <code>fuzz(buf)</code>:</p>
<pre><code class="language-js">function fuzz(buf) {
  // call your package with buf  
}
module.exports = {
    fuzz
};

</code></pre>
<h2 id="Запуск"><a class="header" href="#Запуск">Запуск</a></h2>
<p>Запуск осуществляется командой:</p>
<pre><code class="language-bash">jsfuzz your.js [options]
</code></pre>
<h2 id="Пример-1-фаззинг-тест-для-парсера-jpeg"><a class="header" href="#Пример-1-фаззинг-тест-для-парсера-jpeg">Пример 1: фаззинг-тест для парсера jpeg</a></h2>
<p>Пример взят из репозитория <code>jsfuzz</code>:</p>
<pre><code class="language-js">const jpeg = require('jpeg-js');

function fuzz(buf) {
    try {
        jpeg.decode(buf);
    } catch (e) {
        // Those are &quot;valid&quot; exceptions. we can't catch them in one line as
        // jpeg-js doesn't export/inherit from one exception class/style.
        if (e.message.indexOf('JPEG') !== -1 ||
            e.message.indexOf('length octect') !== -1 ||
            e.message.indexOf('Failed to') !== -1 ||
            e.message.indexOf('DecoderBuffer') !== -1 ||
            e.message.indexOf('invalid table spec') !== -1 ||
            e.message.indexOf('SOI not found') !== -1) {
        } else {
            throw e;
        }
    }
}

module.exports = {
    fuzz
};

</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="JQF.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                                   <svg width="65" height="40" viewBox="0 0 65 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.9286 26.0491C11.3429 25.4633 11.3429 24.5135 11.9286 23.9278L21.4746 14.3818C22.0604 13.796 23.0101 13.796 23.5959 14.3818C24.1817 14.9676 24.1817 15.9173 23.5959 16.5031L15.1106 24.9884L23.5959 33.4737C24.1817 34.0595 24.1817 35.0092 23.5959 35.595C23.0101 36.1808 22.0604 36.1808 21.4746 35.595L11.9286 26.0491ZM32.0377 28.5135L32.8573 27.2572L32.8631 27.261L32.0377 28.5135ZM12.9893 23.4884C17.2502 23.4884 22.8724 23.2192 27.9557 22.2925C30.4974 21.8291 32.8616 21.2089 34.8363 20.3978C36.8277 19.5799 38.3108 18.6135 39.2149 17.5231L41.5243 19.438C40.18 21.0593 38.1937 22.2621 35.9761 23.1729C33.742 24.0904 31.1579 24.7582 28.4938 25.2439C23.1654 26.2153 17.3458 26.4884 12.9893 26.4884V23.4884ZM39.2149 17.5231C41.1353 15.207 40.9526 13.0313 40.1915 11.9242C39.8074 11.3655 39.2478 11.0044 38.565 10.9101C37.8759 10.815 36.9226 10.9759 35.7726 11.7338L34.1218 9.22883C35.7491 8.15636 37.4244 7.72415 38.9753 7.9383C40.5325 8.15331 41.8244 9.0039 42.6637 10.2247C44.3493 12.6766 44.1004 16.3309 41.5243 19.438L39.2149 17.5231ZM35.7726 11.7338C33.2838 13.374 30.9703 16.3983 30.129 19.4851C29.7138 21.0082 29.6765 22.4726 30.0758 23.7665C30.468 25.0371 31.3125 26.2494 32.8573 27.2572L31.2181 29.7698C29.1259 28.4049 27.8214 26.6345 27.2092 24.6512C26.6043 22.6911 26.7074 20.6304 27.2346 18.6962C28.2778 14.8684 31.056 11.2493 34.1218 9.22883L35.7726 11.7338ZM32.8631 27.261C34.4086 28.2796 37.1416 29.115 40.4853 29.115C43.7957 29.115 47.5947 28.2938 51.2448 26.1374L52.7708 28.7203C48.618 31.1737 44.2835 32.115 40.4853 32.115C36.7204 32.115 33.3698 31.1879 31.2123 29.766L32.8631 27.261Z" fill="#00D95A"/>
</svg>

                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="JQF.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <svg width="65" height="40" viewBox="0 0 65 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.9286 26.0491C11.3429 25.4633 11.3429 24.5135 11.9286 23.9278L21.4746 14.3818C22.0604 13.796 23.0101 13.796 23.5959 14.3818C24.1817 14.9676 24.1817 15.9173 23.5959 16.5031L15.1106 24.9884L23.5959 33.4737C24.1817 34.0595 24.1817 35.0092 23.5959 35.595C23.0101 36.1808 22.0604 36.1808 21.4746 35.595L11.9286 26.0491ZM32.0377 28.5135L32.8573 27.2572L32.8631 27.261L32.0377 28.5135ZM12.9893 23.4884C17.2502 23.4884 22.8724 23.2192 27.9557 22.2925C30.4974 21.8291 32.8616 21.2089 34.8363 20.3978C36.8277 19.5799 38.3108 18.6135 39.2149 17.5231L41.5243 19.438C40.18 21.0593 38.1937 22.2621 35.9761 23.1729C33.742 24.0904 31.1579 24.7582 28.4938 25.2439C23.1654 26.2153 17.3458 26.4884 12.9893 26.4884V23.4884ZM39.2149 17.5231C41.1353 15.207 40.9526 13.0313 40.1915 11.9242C39.8074 11.3655 39.2478 11.0044 38.565 10.9101C37.8759 10.815 36.9226 10.9759 35.7726 11.7338L34.1218 9.22883C35.7491 8.15636 37.4244 7.72415 38.9753 7.9383C40.5325 8.15331 41.8244 9.0039 42.6637 10.2247C44.3493 12.6766 44.1004 16.3309 41.5243 19.438L39.2149 17.5231ZM35.7726 11.7338C33.2838 13.374 30.9703 16.3983 30.129 19.4851C29.7138 21.0082 29.6765 22.4726 30.0758 23.7665C30.468 25.0371 31.3125 26.2494 32.8573 27.2572L31.2181 29.7698C29.1259 28.4049 27.8214 26.6345 27.2092 24.6512C26.6043 22.6911 26.7074 20.6304 27.2346 18.6962C28.2778 14.8684 31.056 11.2493 34.1218 9.22883L35.7726 11.7338ZM32.8631 27.261C34.4086 28.2796 37.1416 29.115 40.4853 29.115C43.7957 29.115 47.5947 28.2938 51.2448 26.1374L52.7708 28.7203C48.618 31.1737 44.2835 32.115 40.4853 32.115C36.7204 32.115 33.3698 31.1879 31.2123 29.766L32.8631 27.261Z" fill="#00D95A"/>
</svg>

                    </a>

            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
